:root{
  --bg: #0b0f14;
  --bg-elev: #0f131a;
  --panel: #111826;
  --panel-2: #0e1523;
  --text: #e7edf6;
  --muted: #a7b1c2;
  --brand: #5ac8fa;
  --brand-2: #6ee7b7;
  --accent: #8b5cf6;
  --warn: #f59e0b;
  --danger: #ef4444;
  --ok: #22c55e;
  --border: #203047;
  --shadow: 0 20px 40px rgba(0,0,0,.35), 0 6px 18px rgba(0,0,0,.3);
  --radius-xl: 20px;
  --radius-lg: 16px;
  --radius: 12px;
  --gap: 16px;
}
@media (prefers-color-scheme: light){
  :root{ --bg:#f7fbff; --bg-elev:#fff; --panel:#f5f8fd; --panel-2:#eef4ff; --text:#0d1220; --muted:#445063; --border:#dfe7f2; --shadow: 0 18px 36px rgba(14,30,62,.08), 0 6px 16px rgba(14,30,62,.05); }
}
*{ box-sizing: border-box }
html,body{ height:100% }
body{
  margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: radial-gradient(1200px 800px at 10% -10%, rgba(90,200,250,.08), transparent 60%),
              radial-gradient(900px 600px at 110% 10%, rgba(110,231,183,.06), transparent 50%),
              var(--bg);
  color: var(--text);
}
.container{ max-width: 1050px; margin: 28px auto 64px; padding: 0 20px; }
header.app{
  position: sticky; top: 0; z-index: 50; backdrop-filter: saturate(120%) blur(10px);
  background: linear-gradient(180deg, rgba(15,19,26,.9), rgba(15,19,26,.65) 60%, transparent);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
header .bar{ display:flex; align-items:center; gap:14px; padding:14px 20px; max-width:1050px; margin:0 auto; }
.logo{ display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px }
.logo .em{ font-size: 20px }
.title{ font-size: 16px }
.chip{ font-size:12px; padding:4px 8px; border:1px solid var(--border); border-radius:999px; color:var(--muted); }
.grow{ flex:1 }
.kpis{ display:flex; align-items:center; gap:12px }
.kpi{ background: linear-gradient(180deg, var(--panel), var(--panel-2)); border:1px solid var(--border); padding:8px 12px; border-radius:12px; display:flex; gap:10px; align-items:center; }
.kpi strong{ font-variant-numeric: tabular-nums }

.actions{ display:flex; gap:8px }
.btn{ appearance:none; border:1px solid var(--border); background:linear-gradient(180deg, #1b2332, #121a29); color:var(--text); padding:10px 14px; border-radius:12px; cursor:pointer; box-shadow: var(--shadow);
  transition: transform .08s ease, box-shadow .2s ease, background .2s ease; font-weight:600; }
.btn:hover{ transform: translateY(-1px) }
.btn:active{ transform: translateY(0) scale(.98) }
.btn.secondary{ background: linear-gradient(180deg, #142033, #0f1726) }
.btn.ghost{ background: transparent; box-shadow:none }
.btn.danger{ background: linear-gradient(180deg, #2a0f17, #1a0a0e); border-color: #3a1a22; color:#ffd7dc }
.btn.success{ background: linear-gradient(180deg, #0f2a1a, #0b1a10); border-color: #1b3a27; color:#d7ffe9 }

.progress{
  --pct: 0; width: 240px; height: 12px; border-radius:999px; background: #0b111d; overflow:hidden; border:1px solid var(--border);
}
.progress > i{ display:block; height:100%; width: calc(var(--pct) * 1%); background: linear-gradient(90deg, var(--brand), var(--brand-2)); }

.hero{ margin-top: 28px; padding: 24px; border:1px solid var(--border); border-radius: var(--radius-xl); background: linear-gradient(180deg, rgba(18,27,43,.8), rgba(16,23,37,.7)); box-shadow: var(--shadow);
  display:grid; grid-template-columns: 1.1fr .9fr; gap:20px; align-items:center; }
.hero h1{ margin:0 0 6px; font-size: 28px; letter-spacing:.2px }
.hero p{ margin:0; color: var(--muted) }
.hero .right{ justify-self:end }

.toggles{ display:flex; gap:10px; margin-top:8px; }
.switch{ display:inline-flex; align-items:center; gap:10px; font-size: 13px; color:var(--muted) }
.switch input{ appearance:none; width:44px; height:24px; background:#0b111d; border:1px solid var(--border); border-radius:999px; position:relative; outline:none; cursor:pointer; transition: background .2s ease; }
.switch input:checked{ background:#0f1b2c }
.switch input::after{ content:""; position:absolute; top:2px; left:2px; width:18px; height:18px; border-radius:999px; background:linear-gradient(180deg,#e7edf6,#cfd9ea); transition: transform .2s ease; }
.switch input:checked::after{ transform: translateX(20px) }

.grid{ margin-top: 26px; display:grid; grid-template-columns: 1fr 1fr; gap: 16px; }
@media (max-width: 960px){ .hero{ grid-template-columns: 1fr; } .grid{ grid-template-columns: 1fr; } }

.card{ border:1px solid var(--border); border-radius: var(--radius-lg); background: linear-gradient(180deg, var(--panel), var(--panel-2)); box-shadow: var(--shadow); overflow:hidden; }
.card header{ display:flex; align-items:center; justify-content:space-between; gap:14px; padding:14px 16px; border-bottom:1px solid var(--border); background: linear-gradient(180deg, rgba(255,255,255,.02), transparent); }
.card header h3{ margin:0; font-size:16px; letter-spacing:.2px }
.card header .meta{ display:flex; gap:10px; align-items:center; color: var(--muted); font-size: 12px }

/* Section actions: Add item is elegant and non-intrusive */
.section-actions{ display:flex; gap:8px; align-items:center; }
.section-actions .add-item-btn{
  font-size:12px; color:var(--brand); background:transparent; border:none; cursor:pointer;
  padding:6px 8px; border-radius:8px; opacity:0; transition:opacity .15s ease;
}
.card header:focus-within .add-item-btn,
.card header:hover .add-item-btn{ opacity:1; }
.section-actions .add-item-btn:hover{ background: rgba(255,255,255,.04); }

ul.items{ list-style:none; margin:0; padding: 10px 16px; display:flex; flex-direction:column; gap:10px; }
.item{ position:relative; display:flex; gap:10px; align-items:flex-start; padding:10px 12px; border:1px solid var(--border); border-radius:12px; background: rgba(255,255,255,.02); }
.item input[type="checkbox"]{ margin-top:2px; width:20px; height:20px; accent-color: var(--brand); }
.item label{ line-height:1.25; flex:1 }
.item .hint{ color: var(--muted); font-size:12px; margin-top:4px }
.item .row{ display:flex; flex-direction:column; gap:4px; flex:1 }

/* delete icon: only on hover of the item */
.item .icon-btn{
  appearance:none; border:1px solid var(--border); background:linear-gradient(180deg, #1b2332, #121a29); color:var(--text);
  padding:6px 8px; border-radius:10px; cursor:pointer; opacity:0; transition:opacity .15s ease;
}
.item:hover .icon-btn{ opacity:1; }

/* add-row (inline editor) */
.add-row{ display:none; padding:10px 12px; border:1px dashed var(--border); border-radius:12px; background: rgba(255,255,255,.03); gap:8px; }
.add-row.active{ display:flex; }
.add-row input[type="text"]{ flex:1; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:linear-gradient(180deg, var(--panel), var(--panel-2)); color:var(--text); }
.add-row .hint-input{ width: 45%; }
.add-row .actions{ display:flex; gap:8px }
.add-row .btn{ padding:8px 12px; border-radius:10px }

/* confirm popover: fixed to viewport; always on top */
.popover{
  position:fixed; min-width:220px;
  background:#0e1828; color:var(--text); border:1px solid var(--border); border-radius:12px;
  box-shadow: var(--shadow); padding:10px; font-size:13px; z-index:99999; display:none;
}
.popover.show{ display:block; }
.popover .actions{ display:flex; gap:8px; justify-content:flex-end; margin-top:8px }
.popover .btn{ padding:6px 10px; border-radius:8px }

/* Animations */
.fade-in{ animation: fadein .18s ease-out }
.fade-out{ animation: fadeout .18s ease-in forwards }
@keyframes fadein{ from{opacity:0; transform: translateY(4px)} to{opacity:1; transform:none} }
@keyframes fadeout{ to{opacity:0; transform: translateY(-4px)} }

/* Footer & misc */
.footer-actions{ margin-top:22px; display:flex; gap:10px; flex-wrap:wrap }
.spacer{ flex:1 }
.muted{ color: var(--muted) }
.sep{ height:1px; background: var(--border); margin: 16px 0 }

.toast{ position: fixed; bottom: 22px; right: 22px; background: #0e1828; color: var(--text); border:1px solid var(--border); padding: 12px 14px; border-radius: 12px; box-shadow: var(--shadow); opacity:0; transform: translateY(10px); transition: all .25s ease; pointer-events:none }
.toast.show{ opacity:1; transform: translateY(0) }

.search{ position:relative; }
.search input{ width: 280px; padding:10px 12px 10px 36px; border-radius: 12px; border:1px solid var(--border); background: linear-gradient(180deg, var(--panel), var(--panel-2)); color:var(--text) }
.search svg{ position:absolute; left:10px; top:50%; transform: translateY(-50%); opacity:.65 }
